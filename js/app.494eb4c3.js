(function(e){function t(t){for(var n,s,a=t[0],u=t[1],c=t[2],d=0,f=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var u=r[a];0!==o[u]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=u;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0159":function(e,t,r){},"034f":function(e,t,r){"use strict";r("85ec")},"05d9":function(e,t,r){},"0db9":function(e,t,r){"use strict";r("9da0")},"1b27":function(e,t,r){"use strict";r("8e46")},"51c9":function(e,t,r){"use strict";r("05d9")},"56d7":function(e,t,r){"use strict";r.r(t),r.d(t,"db",(function(){return Q}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Header",{on:{"add-request":e.newRequest}}),r("div",{staticClass:"container"},[r("RequestsList",{attrs:{request:e.requestsArr},on:{"put-in-work":e.putInWork}}),r("OrderList",{attrs:{orders:e.requestsArr},on:{remove:e.removeItem,"return-to-requests":e.returnToRequests}})],1)],1)},i=[],s=(r("4de4"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("h3",[e._v("Создание новой заявки")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.materialTitle,expression:"materialTitle"}],attrs:{placeholder:"Материал",id:"inpTitle"},domProps:{value:e.materialTitle},on:{input:function(t){t.target.composing||(e.materialTitle=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.materialNumber,expression:"materialNumber",modifiers:{number:!0}}],attrs:{placeholder:"Количество",id:"inpQuantity"},domProps:{value:e.materialNumber},on:{input:function(t){t.target.composing||(e.materialNumber=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.materialLeftover,expression:"materialLeftover",modifiers:{number:!0}}],attrs:{placeholder:"Запас в месяцах",id:"inpLeftover"},domProps:{value:e.materialLeftover},on:{input:function(t){t.target.composing||(e.materialLeftover=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),r("button",{attrs:{type:"submit"}},[e._v("Создать")])]),r("hr")])}),a=[],u=void 0,c={props:["request"],data:function(){return{materialTitle:"",materialNumber:"",materialLeftover:"",date:Date.now()}},methods:{onSubmit:function(){var e={title:this.materialTitle,quantity:this.materialNumber,leftover:this.materialLeftover,active:!0,inWork:!1,isDenied:!1,created:new Date(this.date).toLocaleDateString()};this.$emit("add-request",e),this.materialTitle="",this.materialNumber="",this.materialLeftover=""}},computed:{today:function(){return new Date(u.date).toLocaleDateString()}}},l=c,d=(r("0db9"),r("2877")),f=Object(d["a"])(l,s,a,!1,null,"7f21e06e",null),m=f.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"requests-block"},[r("h2",[e._v("Потребность склада: "+e._s(e.actives)+" "+e._s(e.pickWord(e.actives)))]),r("ul",e._l(e.notInWork,(function(t,n){return r("RequestItem",{key:n,attrs:{reqItem:t},on:{"put-in-work":e.putInWork}})})),1)])},v=[],b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",[r("div",{staticClass:"request-block"},[r("div",{staticClass:"request-block__info",class:{denied:e.reqItem.isDenied}},[r("div",{staticClass:"info__header"},[r("div",{staticClass:"date"},[e._v(e._s(e.reqItem.created))]),r("h2",{staticClass:"title"},[e._v(e._s(e.reqItem.title))]),r("div",{staticClass:"copy"},[r("button",{staticClass:"copy-button",attrs:{type:"button"}},[r("CopyButton",{on:{copy:e.copyRequest}})],1)])]),r("h2",{staticClass:"quantity"},[e._v(e._s(e.reqItem.quantity))]),r("p",[e._v("При текущем расходе запаса хватит на "+e._s(e.reqItem.leftover)+" мес.")])]),r("div",{staticClass:"request-block__buttons"},[e.reqItem.isDenied?e._e():r("button",{staticClass:"requested-button",on:{click:function(t){return e.$emit("put-in-work",e.reqItem.id)}}},[e._v(" Заказано ")]),r("button",{staticClass:"denied-button",on:{click:function(t){e.reqItem.isDenied=!e.reqItem.isDenied}}},[e._v(" "+e._s(e.reqItem.isDenied?"Принять":"Отклонить")+" ")])])])])},h=[],_=(r("99af"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticClass:"svg-inline--fa fa-copy fa-w-14 copy-button",attrs:{"aria-hidden":"true",focusable:"true","data-prefix":"far","data-icon":"copy",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},on:{click:function(t){return e.$emit("copy")}}},[r("path",{attrs:{fill:"gray",d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"}})])}),y=[],q={},k=Object(d["a"])(q,_,y,!1,null,null,null),I=k.exports,C={props:{reqItem:{type:Object,required:!0}},data:function(){return{inWork:this.reqItem.inWork}},components:{CopyButton:I},methods:{isInWorkNow:function(){this.$emit("remove",this.id)},copyRequest:function(){var e="Прошу изготовить ".concat(this.reqItem.title," в количестве ").concat(this.reqItem.quantity," штук"),t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}},w=C,g=(r("1b27"),Object(d["a"])(w,b,h,!1,null,"fcc43c92",null)),x=g.exports,O={props:["request"],components:{RequestItem:x},computed:{actives:function(){return this.request.filter((function(e){return!e.inWork})).filter((function(e){return!e.isDenied})).length},notInWork:function(){return this.request.filter((function(e){return!e.inWork}))}},methods:{putInWork:function(e){this.$emit("put-in-work",e)},pickWord:function(e){var t=e%100;if(t<11||t>14){if(t%=10,1===t)return"материал";if(t>=2&&t<=4)return"материала"}return"материалов"}}},W=O,j=(r("bbea"),Object(d["a"])(W,p,v,!1,null,"83649c9c",null)),$=j.exports,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"orders-block"},[r("h2",[e._v("В работе "+e._s(e.actives)+" "+e._s(e.pickWord(e.actives)))]),r("ul",e._l(e.inWork,(function(t,n){return r("OrderItem",{key:n,attrs:{orderItem:t},on:{remove:e.removeItem,"return-to-requests":e.returnToRequests}})})),1)])},R=[],L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",[r("div",{staticClass:"order-block"},[r("div",{staticClass:"order-block__info"},[r("div",{staticClass:"info__header"},[r("div",{staticClass:"date"},[e._v(e._s(e.orderItem.created))]),r("h2",{staticClass:"title"},[e._v(e._s(e.orderItem.title))]),r("div",{staticClass:"copy"},[r("button",{staticClass:"copy-button",attrs:{type:"button"}},[r("CopyButton",{on:{copy:e.copyRequest}})],1)])]),r("h2",{staticClass:"quantity"},[e._v(e._s(e.orderItem.quantity))]),r("p",[e._v(" При текущем расходе запаса хватит на "+e._s(e.orderItem.leftover)+" мес. ")])]),r("div",{staticClass:"order-block__buttons"},[r("button",{staticClass:"return-button",on:{click:function(t){return e.$emit("return-to-requests",e.orderItem.id)}}},[e._v(" Вернуть в запросы ")]),r("button",{staticClass:"accepted-button",on:{click:function(t){return e.$emit("remove",e.orderItem.id)}}},[e._v(" Поступило на склад ")])])])])},D=[],T={components:{CopyButton:I},props:{orderItem:{type:Object,required:!0}},data:function(){return{inWork:this.orderItem.inWork}},methods:{copyRequest:function(){var e="Прошу изготовить ".concat(this.orderItem.title," в количестве ").concat(this.orderItem.quantity," штук"),t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}},N=T,S=(r("f64d"),Object(d["a"])(N,L,D,!1,null,"17ad3dda",null)),E=S.exports,P={props:["orders"],components:{OrderItem:E},computed:{actives:function(){return this.orders.filter((function(e){return e.inWork})).filter((function(e){return e.active})).length||0},inWork:function(){return this.orders.filter((function(e){return e.inWork}))}},methods:{returnToRequests:function(e){this.$emit("return-to-requests",e)},removeItem:function(e){this.$emit("remove",e)},pickWord:function(e){var t=e%100;if(t<11||t>14){if(t%=10,1===t)return"заказ";if(t>=2&&t<=4)return"заказа"}return"заказов"}}},z=P,V=(r("51c9"),Object(d["a"])(z,A,R,!1,null,"08dfbe60",null)),B=V.exports,H={name:"App",data:function(){return{requestsArr:[]}},firestore:function(){return{requestsArr:Q.collection("requestsArr")}},components:{Header:m,RequestsList:$,OrderList:B},methods:{returnToRequests:function(e){Q.collection("requestsArr").doc(e).update({inWork:!1})},putInWork:function(e){Q.collection("requestsArr").doc(e).update({inWork:!0})},newRequest:function(e){Q.collection("requestsArr").add(e)},removeItem:function(e){this.requestsArr.filter((function(t){t.id===e&&Q.collection("requestsArr").doc(e).delete()}))}}},M=H,K=(r("034f"),Object(d["a"])(M,o,i,!1,null,null,null)),U=K.exports,F=r("0ff2"),J=r("260b");r("e71f");n["a"].use(F["a"]),J["a"].initializeApp({apiKey:"AIzaSyAzK_F-RVXRgcoqVdvm17FRQKtjNlEsohA",authDomain:"warehouse-needs.firebaseapp.com",databaseURL:"https://warehouse-needs.firebaseio.com",projectId:"warehouse-needs",storageBucket:"warehouse-needs.appspot.com",messagingSenderId:"534802380971",appId:"1:534802380971:web:3fec858bf600b9cc1e5fee"}).firestore();var Q=J["a"].firestore();new n["a"]({render:function(e){return e(U)}}).$mount("#app")},"85ec":function(e,t,r){},"8e46":function(e,t,r){},"9da0":function(e,t,r){},bbea:function(e,t,r){"use strict";r("0159")},eeca:function(e,t,r){},f64d:function(e,t,r){"use strict";r("eeca")}});
//# sourceMappingURL=app.494eb4c3.js.map